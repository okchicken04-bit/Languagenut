{
    "name": "Python with Browser Automation",
    "image": "mcr.microsoft.com/devcontainers/python:0-3.12",
    "features": {
        "ghcr.io/devcontainers/features/apt-get:1": {
            "packages": [
                "firefox-esr", // Install Firefox ESR
                "xvfb", // X virtual framebuffer - essential for some headless ops
                "libglib2.0-0",
                "libnss3",
                "libasound2",
                "libatk1.0-0",
                "libatk-bridge2.0-0",
                "libc6",
                "libcairo2",
                "libcups2",
                "libdbus-1-3",
                "libexpat1",
                "libfontconfig1",
                "libgbm1",
                "libgcc1",
                "libgdk-pixbuf2.0-0",
                "libglx-mesa0",
                "libgtk-3-0", // GTK3 is a common dependency
                "libnspr4",
                "libpango-1.0-0",
                "libpangocairo-1.0-0",
                "libstdc++6",
                "libx11-6",
                "libx11-xcb1",
                "libxcb1",
                "libxcomposite1",
                "libxcursor1",
                "libxdamage1",
                "libxext6",
                "libxfixes3",
                "libxi6",
                "libxrandr2",
                "libxrender1",
                "libxss1",
                "libxtst6",
                "libnss3-dev",
                "fonts-liberation" // Common font dependency
            ]
        }
    },
    "postCreateCommand": "pip install --user selenium webdriver-manager",
    "postAttachCommand": "source venv/bin/activate",
    "customizations": {
        "vscode": {
            "settings": {
                "python.defaultInterpreterPath": "/usr/local/python/3.12/bin/python",
                "python.formatting.provider": "none"
            },
            "extensions": [
                "ms-python.python",
                "ms-python.vscode-pylance"
            ]
        }
    }
}
